<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Smart Receipt Splitter</title>
  <link rel="stylesheet" href="static/css/style.css">
</head>
<body>
  <!-- Home Section -->
  <section id="home-section">
    <div class="center-btn">
      <button class="plus-btn" id="plusBtn" aria-label="Start a new split">+</button>
      <div class="desc">Start a new expense split</div>
    </div>
  </section>

  <!-- Upload Section -->
  <section id="upload-section" style="display:none;">
    <div class="container">
      <h1>Upload Receipt & Assign People</h1>
      <div class="upload-area" id="upload-area" tabindex="0">
        <svg class="upload-icon" stroke="currentColor" fill="none" viewBox="0 0 48 48">
          <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
        <div class="upload-text">Upload Receipt Photo</div>
        <div class="upload-subtext">Click to select or drag and drop</div>
        <div class="upload-subtext">JPG, JPEG, PNG, WEBP, GIF, BMP, TIFF up to 16MB</div>
        <input id="receipt-upload" type="file" accept="image/jpeg,image/jpg,image/png,image/webp,image/gif,image/bmp,image/tiff" class="file-input">
      </div>
      <div id="selected-file-info" class="mb-4" style="display:none; align-items:center; gap:1rem;">
        <img id="file-preview" src="#" alt="Preview" style="display:none; width:48px; height:48px; object-fit:cover; border-radius:6px; border:1px solid #e5e7eb;">
        <span id="file-name" style="font-size:1rem; color:#374151;"></span>
        <button id="remove-file-btn" style="margin-left:1rem; background:none; border:none; color:#ef4444; font-size:1.5rem; cursor:pointer;">&times;</button>
      </div>
      <div class="mb-4">
        <label for="payer-input-tag" class="participant-label">Who Paid?</label>
        <div id="payer-tags" class="tag-list"></div>
        <input id="payer-input-tag" type="text" class="participant-input" placeholder="Type a name and press Enter">
      </div>
      <div class="mb-4">
        <label for="participant-input-tag" class="participant-label">Who's Splitting?</label>
        <div id="participant-tags" class="tag-list"></div>
        <input id="participant-input-tag" type="text" class="participant-input" placeholder="Type a name and press Enter">
      </div>
      <button id="continue-btn" class="btn">Continue</button>
      <div id="upload-loading" class="loading-overlay" style="display:none; position:relative; background:none; box-shadow:none;">
        <div class="loading-content" style="box-shadow:none; background:none; padding:0;">
          <div class="spinner"></div>
          <span style="color:#2563eb; font-weight:500;">Scanning receipt...</span>
        </div>
      </div>
      <div id="upload-success" class="message success" style="display:none; margin-top:1rem;">Upload Successful!</div>
    </div>
  </section>

  <!-- Split Section -->
  <section id="split-section" style="display:none;">
    <div class="container">
      <h1>Assign Items to Users</h1>
      <div class="section">
        <label for="usernames">Enter all usernames (comma-separated):</label>
        <input type="text" id="usernames" class="input" placeholder="e.g. alice, bob, charlie">
      </div>
      <form id="items-form">
        <div id="items-list"></div>
        <button type="submit" class="btn">Next Step</button>
      </form>
    </div>
  </section>

  <!-- Result Section -->
  <section id="result-section" style="display:none;">
    <div class="container">
      <h1>Split Result</h1>
      <ul class="result-list" id="result-list"></ul>
    </div>
  </section>

  <script src="static/js/app.js"></script>
</body>
</html> 